<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noct PLM</title>
  <link rel="icon" href="favicon.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes bar1 { 0%, 100% { height: 8px; } 50% { height: 16px; } }
    @keyframes bar2 { 0%, 100% { height: 16px; } 50% { height: 8px; } }
    @keyframes bar3 { 0%, 100% { height: 8px; } 50% { height: 16px; } }
    .bar1 { animation: bar1 0.8s infinite; }
    .bar2 { animation: bar2 0.8s infinite; }
    .bar3 { animation: bar3 0.8s infinite 0.2s; }
    input[type="range"] { -webkit-appearance: none; background: #374151; border-radius: 9999px; }
    input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 12px; height: 12px; border-radius: 50%; background: white; cursor: pointer; }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white pb-32">

  <!-- Background Effects -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none">
    <div class="absolute -top-40 -right-40 w-80 h-80 bg-purple-500/20 rounded-full blur-3xl"></div>
    <div class="absolute top-1/2 -left-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"></div>
    <div class="absolute -bottom-40 right-1/3 w-80 h-80 bg-pink-500/20 rounded-full blur-3xl"></div>
  </div>

  <!-- Header -->
  <header class="relative z-10 px-6 py-8">
    <div class="max-w-2xl mx-auto">
      <div class="flex items-center gap-4">
        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center shadow-lg shadow-purple-500/30">
          <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="2"/><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"/>
          </svg>
        </div>
        <div>
          <h1 class="text-2xl font-bold tracking-tight">Noct PLM</h1>
          <p class="text-gray-400 text-sm">√âcoute tes radios pr√©f√©r√©es</p>
        </div>
      </div>
    </div>
  </header>

  <!-- Radio List -->
  <main class="relative z-10 px-6">
    <div class="max-w-2xl mx-auto space-y-4">

      <!-- Skyrock -->
      <div class="radio-card group relative overflow-hidden rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300 cursor-pointer"
           onclick="playRadio('Skyrock PLM', 'https://icecast.skyrock.net/s/plm_aac_128k', 'skyrock.png', 'from-red-500 to-orange-500', this)">
        <div class="relative p-5 flex items-center gap-5">
          <div class="relative w-16 h-16 rounded-xl overflow-hidden bg-white flex-shrink-0">
            <img src="skyrock.png" alt="Skyrock" class="w-full h-full object-contain p-2">
            <div class="equalizer absolute inset-0 bg-black/40 hidden items-center justify-center">
              <div class="flex gap-1 items-end h-4">
                <div class="w-1 bg-white rounded-full bar1"></div>
                <div class="w-1 bg-white rounded-full bar2"></div>
                <div class="w-1 bg-white rounded-full bar3"></div>
              </div>
            </div>
          </div>
          <div class="flex-1 min-w-0">
            <h3 class="font-semibold text-lg truncate">Skyrock PLM</h3>
            <p class="status text-gray-400 text-sm">Cliquer pour √©couter</p>
          </div>
          <button class="play-btn w-12 h-12 rounded-full flex items-center justify-center bg-white text-gray-900 hover:shadow-white/30 transition-all shadow-lg">
            <svg class="w-5 h-5 ml-0.5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          </button>
        </div>
      </div>

      <!-- Fun Radio -->
      <div class="radio-card group relative overflow-hidden rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300 cursor-pointer"
           onclick="playRadio('Fun Radio', 'https://icecast.funradio.fr/fun-1-44-128', 'fun.png', 'from-yellow-400 to-orange-500', this)">
        <div class="relative p-5 flex items-center gap-5">
          <div class="relative w-16 h-16 rounded-xl overflow-hidden bg-white flex-shrink-0">
            <img src="fun.png" alt="Fun Radio" class="w-full h-full object-contain p-2">
            <div class="equalizer absolute inset-0 bg-black/40 hidden items-center justify-center">
              <div class="flex gap-1 items-end h-4">
                <div class="w-1 bg-white rounded-full bar1"></div>
                <div class="w-1 bg-white rounded-full bar2"></div>
                <div class="w-1 bg-white rounded-full bar3"></div>
              </div>
            </div>
          </div>
          <div class="flex-1 min-w-0">
            <h3 class="font-semibold text-lg truncate">Fun Radio</h3>
            <p class="status text-gray-400 text-sm">Cliquer pour √©couter</p>
          </div>
          <button class="play-btn w-12 h-12 rounded-full flex items-center justify-center bg-white text-gray-900 hover:shadow-white/30 transition-all shadow-lg">
            <svg class="w-5 h-5 ml-0.5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          </button>
        </div>
      </div>

      <!-- Mouv -->
      <div class="radio-card group relative overflow-hidden rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300 cursor-pointer"
           onclick="playRadio('Mouv Rap FR', 'https://icecast.radiofrance.fr/mouvrapfr-midfi.mp3', 'mouv.png', 'from-purple-500 to-pink-500', this)">
        <div class="relative p-5 flex items-center gap-5">
          <div class="relative w-16 h-16 rounded-xl overflow-hidden bg-white flex-shrink-0">
            <img src="mouv.png" alt="Mouv" class="w-full h-full object-contain p-2">
            <div class="equalizer absolute inset-0 bg-black/40 hidden items-center justify-center">
              <div class="flex gap-1 items-end h-4">
                <div class="w-1 bg-white rounded-full bar1"></div>
                <div class="w-1 bg-white rounded-full bar2"></div>
                <div class="w-1 bg-white rounded-full bar3"></div>
              </div>
            </div>
          </div>
          <div class="flex-1 min-w-0">
            <h3 class="font-semibold text-lg truncate">Mouv' Rap FR</h3>
            <p class="status text-gray-400 text-sm">Cliquer pour √©couter</p>
          </div>
          <button class="play-btn w-12 h-12 rounded-full flex items-center justify-center bg-white text-gray-900 hover:shadow-white/30 transition-all shadow-lg">
            <svg class="w-5 h-5 ml-0.5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          </button>
        </div>
      </div>

    </div>
  </main>

  <!-- Player -->
  <div id="player" class="fixed bottom-0 left-0 right-0 z-50 translate-y-full transition-transform duration-300">
    <div class="max-w-2xl mx-auto p-4">
      <div class="relative overflow-hidden rounded-2xl backdrop-blur-xl bg-gray-900/90 border border-white/10 shadow-2xl">
        <div id="playerGradient" class="h-1 bg-gradient-to-r from-purple-500 to-pink-500"></div>
        <div class="p-4 flex items-center gap-4">
          <div class="w-14 h-14 rounded-xl overflow-hidden bg-white flex-shrink-0">
            <img id="playerImg" src="favicon.png" alt="" class="w-full h-full object-contain p-1.5">
          </div>
          <div class="flex-1 min-w-0">
            <p id="playerName" class="font-semibold truncate">Aucune radio</p>
            <p id="playerStatus" class="text-sm text-gray-400">En pause</p>
          </div>
          <div class="flex items-center gap-2">
            <div class="hidden sm:flex items-center gap-2 mr-2">
              <button onclick="toggleMute()" class="p-2 rounded-full hover:bg-white/10 transition-colors">
                <svg id="volumeIcon" class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07M19.07 4.93a10 10 0 0 1 0 14.14"/>
                </svg>
              </button>
              <input type="range" id="volume" min="0" max="1" step="0.01" value="0.7" class="w-20 h-1 cursor-pointer">
            </div>
            <button onclick="togglePlay()" id="playPauseBtn" class="w-11 h-11 rounded-full flex items-center justify-center bg-gradient-to-r from-purple-500 to-pink-500 shadow-lg">
              <svg class="w-5 h-5 text-white ml-0.5" fill="white" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
            </button>
            <button onclick="stopRadio()" class="w-11 h-11 rounded-full flex items-center justify-center bg-white/10 hover:bg-white/20 transition-colors">
              <svg class="w-4 h-4 text-white" fill="white" viewBox="0 0 24 24"><rect x="6" y="6" width="12" height="12"/></svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <audio id="audio"></audio>

  <script>
    const audio = document.getElementById('audio');
    const player = document.getElementById('player');
    const playerImg = document.getElementById('playerImg');
    const playerName = document.getElementById('playerName');
    const playerStatus = document.getElementById('playerStatus');
    const playerGradient = document.getElementById('playerGradient');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const volumeSlider = document.getElementById('volume');
    const volumeIcon = document.getElementById('volumeIcon');

    let currentCard = null;
    let isPlaying = false;
    let isMuted = false;

    function playRadio(name, url, img, gradient, card) {
      // Reset previous card
      document.querySelectorAll('.radio-card').forEach(c => {
        c.classList.remove('bg-white/15', 'border-white/30', 'shadow-xl');
        c.classList.add('bg-white/5', 'border-white/10');
        c.querySelector('.equalizer').classList.add('hidden');
        c.querySelector('.equalizer').classList.remove('flex');
        c.querySelector('.status').textContent = 'Cliquer pour √©couter';
        c.querySelector('.play-btn').innerHTML = '<svg class="w-5 h-5 ml-0.5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>';
        c.querySelector('.play-btn').classList.remove('bg-gradient-to-r', gradient);
        c.querySelector('.play-btn').classList.add('bg-white', 'text-gray-900');
      });

      // If clicking same card and playing, pause
      if (currentCard === card && isPlaying) {
        audio.pause();
        isPlaying = false;
        updateUI(card, gradient, false);
        return;
      }

      // Play new radio
      currentCard = card;
      audio.src = url;
      audio.play();
      isPlaying = true;

      // Update player
      playerImg.src = img;
      playerName.textContent = name;
      playerGradient.className = 'h-1 bg-gradient-to-r ' + gradient;
      playPauseBtn.className = 'w-11 h-11 rounded-full flex items-center justify-center bg-gradient-to-r ' + gradient + ' shadow-lg';
      player.classList.remove('translate-y-full');
      document.title = name + ' ‚Ä¢ Noct PLM';

      updateUI(card, gradient, true);
    }

    function updateUI(card, gradient, playing) {
      if (playing) {
        card.classList.add('bg-white/15', 'border-white/30', 'shadow-xl');
        card.classList.remove('bg-white/5', 'border-white/10');
        card.querySelector('.equalizer').classList.remove('hidden');
        card.querySelector('.equalizer').classList.add('flex');
        card.querySelector('.status').textContent = 'En cours de lecture';
        card.querySelector('.play-btn').innerHTML = '<svg class="w-5 h-5" fill="white" viewBox="0 0 24 24"><path d="M6 4h4v16H6zM14 4h4v16h-4z"/></svg>';
        card.querySelector('.play-btn').classList.add('bg-gradient-to-r', gradient);
        card.querySelector('.play-btn').classList.remove('bg-white', 'text-gray-900');
        playerStatus.textContent = 'üî¥ En direct';
        playPauseBtn.innerHTML = '<svg class="w-5 h-5" fill="white" viewBox="0 0 24 24"><path d="M6 4h4v16H6zM14 4h4v16h-4z"/></svg>';
      } else {
        card.querySelector('.equalizer').classList.add('hidden');
        card.querySelector('.equalizer').classList.remove('flex');
        card.querySelector('.status').textContent = 'En pause';
        card.querySelector('.play-btn').innerHTML = '<svg class="w-5 h-5 ml-0.5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>';
        playerStatus.textContent = 'En pause';
        playPauseBtn.innerHTML = '<svg class="w-5 h-5 text-white ml-0.5" fill="white" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>';
      }
    }

    function togglePlay() {
      if (!audio.src) return;
      if (isPlaying) {
        audio.pause();
        isPlaying = false;
      } else {
        audio.play();
        isPlaying = true;
      }
      if (currentCard) {
        const gradient = playerGradient.className.split(' ').filter(c => c.startsWith('from-') || c.startsWith('to-')).join(' ');
        updateUI(currentCard, gradient, isPlaying);
      }
    }

    function stopRadio() {
      audio.pause();
      audio.src = '';
      isPlaying = false;
      player.classList.add('translate-y-full');
      document.title = 'Noct PLM';
      
      document.querySelectorAll('.radio-card').forEach(c => {
        c.classList.remove('bg-white/15', 'border-white/30', 'shadow-xl');
        c.classList.add('bg-white/5', 'border-white/10');
        c.querySelector('.equalizer').classList.add('hidden');
        c.querySelector('.equalizer').classList.remove('flex');
        c.querySelector('.status').textContent = 'Cliquer pour √©couter';
        c.querySelector('.play-btn').innerHTML = '<svg class="w-5 h-5 ml-0.5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>';
        c.querySelector('.play-btn').classList.remove('bg-gradient-to-r');
        c.querySelector('.play-btn').classList.add('bg-white', 'text-gray-900');
      });
      currentCard = null;
    }

    function toggleMute() {
      isMuted = !isMuted;
      audio.volume = isMuted ? 0 : volumeSlider.value;
      volumeIcon.innerHTML = isMuted 
        ? '<line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>'
        : '<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07M19.07 4.93a10 10 0 0 1 0 14.14"/>';
    }

    volumeSlider.addEventListener('input', () => {
      audio.volume = volumeSlider.value;
      isMuted = false;
    });
  </script>

</body>
</html>
